---
import logo from '@static/assets/favicon.svg?raw';
---

<header class="mt-14 flex w-full max-w-3xl items-center justify-between">
  <span class="max-h-8 max-w-8">
    <Fragment set:html={logo} />
  </span>
  <div class="flex h-full max-h-8 items-center gap-4">
    <select class="bg-transparent pr-4">
      <option>Sans Serif</option>
      <option>Serif</option>
      <option>Mono</option>
    </select>
    <button class="h-full border-l border-gray-400 pl-4" id="toggle-theme">
      <span class="dark:hidden">🌝</span>
      <span class="hidden dark:inline">🌚</span>
    </button>
  </div>
</header>

<script is:inline>
  document.getElementById('toggle-theme')?.addEventListener('click', () => {
    const theme =
      localStorage.theme ??
      (window.matchMedia('(prefers-color-scheme: light)').matches ? 'light' : 'dark');

    if (theme === 'dark') {
      localStorage.theme = 'light';
      document.documentElement.classList.remove('dark');
    } else {
      localStorage.theme = 'dark';
      document.documentElement.classList.add('dark');
    }
  });
</script>
